"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[3707],{63707:(e,t,r)=>{r.d(t,{f:()=>G});var a=r(85893),o=r(82904),n=r(77291),l=r(82543),s=r(10951),i=r(82956),c=r(28836),h=r(15323),d=r(41893),f=r(11324),u=r(70352),g=r(34158),P=r(15887),D=r(54430),b=r(14404);const m=e=>{const t=(e=>t=>{const r=(0,c.zG)(t,b.UID((e=>{let[t,r,a]=e;return{hasFetchedAllPages:t,fetchDataParams:r,fetchDataAndBuildActions:a}}))),a=(0,c.zG)(r,b.UPJ(e),b.EBy((e=>{let{fetchDataParams:t}=e;return t.page})),b.oEU((e=>{let{hasFetchedAllPages:t}=e;return!1===t})));return(0,c.zG)(a,b.Mmo(r,((e,t)=>t)),b.zgw((e=>{let{fetchDataParams:t,fetchDataAndBuildActions:r}=e;return(0,c.zG)(r(t),D.XD(3))})))})((0,f.m)((e=>{let{notifier$:t,footerRefOption$:r}=e;return e=>{const a=(0,c.zG)(e,b.UID((e=>{let[t,r,a,o]=e;return{shouldDisableInfiniteScroll:t,fetchDataParams:r,intersectionObserverRoot:a,intersectionObserverRootMarginBottom:o}}))),o=(0,c.zG)(a,b.DZk((e=>{let{intersectionObserverRoot:t}=e;return t})),b.xbd()),n=(0,c.zG)(a,b.UID((e=>{let{intersectionObserverRootMarginBottom:t}=e;return t??2e3})),b.xbd()),l=(0,c.zG)(a,b.UID((e=>{let{fetchDataParams:t}=e;return t.page})),b.xbd()),s=(0,c.zG)(b.aje([r,o,n,l]),b.wtO((e=>{let[t,r,a]=e;return(0,c.zG)(t,i.g_((0,c.a9)(b.E_E),(e=>(0,c.zG)(b.bHq(e,{...void 0!==r?{root:r}:null,rootMargin:(0,P.Ae)({top:u.ZI,right:u.ZI,bottom:u.Ei(a),left:u.ZI})}),b.hXT(P.Yu)))))}))),h=(0,c.zG)(a,b.UID((e=>e.shouldDisableInfiniteScroll)),b.xbd());return(0,c.zG)(a,b.UPJ(b.TSy((0,c.zG)(b.aje([s,h]),b.hXT((e=>{let[t,r]=e;return!1===r}))),t)))}})({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.shouldDisableInfiniteScroll,e.fetchDataParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom])),r=[e.hasFetchedAllPages,e.fetchDataParams,e.fetchDataAndBuildActions],a=(0,f.m)(t,r);(0,g.Rd)(a)},p=e=>{let{lastPageFetched:t,perPage:r,total:a}=e;return t>=(e=>{let{total:t,perPage:r}=e;return Math.ceil(t/r)})({total:a,perPage:r})},z=e=>{let{feedState:t,feedItems:r,renderItems:l,getScrollFooterEl:i,...f}=e;const[u,g]=(0,o.m)((e=>(0,c.zG)(e,s.DZ))),P=d.Yen((()=>(e=>{let{lastPageFetched:t,perPage:r,orderBy:a}=e;return{page:t+1,perPage:r,...void 0!==a?{orderBy:a}:null}})(t)),[t]),D=d.Yen((()=>p(t)),[t]);return m({fetchDataParams:P,hasFetchedAllPages:D,footerRefOption$:g,...f}),(0,a.jsxs)(d.PRT,{children:[l({items:r,hasFetchedAllPages:D,total:t.total}),(0,a.jsx)(d.tJQ,{ref:u,...(0,h.Nn)(n.gZ)}),!1===D&&i()]})},G=e=>{let{feedStateOption:t,feedItemsOption:r,getNoContentEl:o,getPlaceholderEl:n,...s}=e;return(0,a.jsx)(d.PRT,{children:(0,c.zG)(i.gz(t,r),i.UI((e=>{let[t,r]=e;return(0,c.zG)(r,l.nI,i.g_(o,(e=>(0,a.jsx)(z,{feedState:t,feedItems:e,...s}))))})),i.HV(n))})}}}]);